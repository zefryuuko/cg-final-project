(this["webpackJsonpcg-final-project"]=this["webpackJsonpcg-final-project"]||[]).push([[0],{30:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a,i,r=n(0),o=n(1),s=n.n(o),c=n(21),l=n.n(c),u=n(3),h=n(10),p=n(5),m=n(4),d=n(15),f=n(6),j=(n(28),n(2)),O=new function e(){Object(u.a)(this,e),this.scene=void 0,this.engine=void 0,this.framerate=60,this.character=void 0},b=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).componentDidMount=function(){r.engine=new j.Engine(r.canvas,!0),O.scene=new j.Scene(r.engine),r.addLight(),r.addCamera(),r.addSkybox(),window.addEventListener("resize",r.onWindowResize,!1),window.addEventListener("keydown",r.onKeydownEvent),r.engine.runRenderLoop((function(){O.scene.render()})),O.scene.registerBeforeRender((function(){}))},r.onWindowResize=function(e){r.engine.resize()},r.onKeydownEvent=function(e){switch(e.keyCode){case 219:O.scene.debugLayer.show();break;case 221:O.scene.debugLayer.hide()}},r.addLight=function(){r.light=new j.HemisphericLight("light1",new j.Vector3(0,-1,0),O.scene)},r.addSkybox=function(){var e=j.Mesh.CreateSphere("skybox",16,50,a),t=new j.StandardMaterial("skyboxMaterial",a);t.emissiveTexture=new j.Texture("assets/other/skybox.png",O.scene,1,0),t.diffuseColor=new j.Color3(0,0,0),t.specularColor=new j.Color3(0,0,0),t.emissiveTexture.uOffset=-Math.PI/2,t.emissiveTexture.uOffset=.1,t.backFaceCulling=!1,e.material=t},r.addCamera=function(){r.arcRotateCamera=new j.ArcRotateCamera("MainCamera",Math.PI/2,Math.PI/4,10,new j.Vector3(2,0,2),O.scene),r.arcRotateCamera.panningSensibility=0,r.arcRotateCamera.lowerRadiusLimit=r.arcRotateCamera.upperRadiusLimit=10,r.arcRotateCamera.attachControl(r.canvas,!0),r.arcRotateCamera.setPosition(new j.Vector3(7,7,7)),r.arcRotateCamera.beta=Math.PI/2.5},r.addGround=function(){var e=j.MeshBuilder.CreateGround("ground1",{height:6,width:6,subdivisions:2},a),t=new j.StandardMaterial("grass0",a);t.diffuseTexture=new j.Texture("./assets/ground.jpeg",a),e.material=t},r.addModels=function(){(i=j.MeshBuilder.CreateBox("box",{height:1,width:1,depth:1},a)).position.y=1;var e=new j.StandardMaterial("wood",a);e.diffuseTexture=new j.Texture("./assets/portal_cube.png",a),i.material=e},r.state={useWireFrame:!1,shouldAnimate:!1},r.light=void 0,r.arcRotateCamera=void 0,r}return Object(h.a)(n,[{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onWindowResize,!1)}},{key:"render",value:function(){var e=this;return Object(r.jsx)("canvas",{className:"renderCanvas",ref:function(t){e.canvas=t}})}}]),n}(o.Component),v=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={},a}return Object(h.a)(n,[{key:"render",value:function(){return Object(r.jsx)("nav",{className:"navbar navbar-light bg-light",children:Object(r.jsx)("a",{className:"navbar-brand",href:"/",children:"REEEE"})})}}]),n}(o.Component),x=(n(29),n(30),Object.freeze(new function e(){Object(u.a)(this,e),this.NONE=0,this.STONE=1,this.GRASS=2,this.PATH=3})),g=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){a.createMesh(),a.applyMaterial(),a.startSpawnAnimation()},a.componentWillUnmount=function(){a.mesh.dispose()},a.createMesh=function(){var e=a.props.posX?a.props.posX:0,t=a.props.posY?a.props.posY:0,n=a.props.posZ?a.props.posZ:0;a.mesh=j.MeshBuilder.CreateBox("stoneBlock_".concat(e,",").concat(t,",").concat(n),{height:1,width:1,depth:1},O.scene),a.mesh.position.x=e,a.mesh.position.y=t,a.mesh.position.z=n},a.applyMaterial=function(){var e=new j.StandardMaterial("StoneBlockMaterial",O.scene);e.diffuseTexture=new j.Texture("assets/textures/stone.png",O.scene),e.diffuseTexture.updateSamplingMode(j.Texture.NEAREST_NEAREST_MIPLINEAR),e.specularColor=new j.Color3(0,0,0),e.backFaceCulling=!1,a.mesh.material=e},a.startSpawnAnimation=function(){var e=new j.Animation("spawnAnimation","scaling",O.framerate,j.Animation.ANIMATIONTYPE_VECTOR3,j.Animation.ANIMATIONLOOPMODE_CYCLE),t=.2*((a.props.yOffset?a.props.yOffset:0)+(a.props.posY?a.props.posY:0))+1,n=[];n.push({frame:0,value:j.Vector3.Zero()}),n.push({frame:t*O.framerate,value:j.Vector3.Zero()}),n.push({frame:t*O.framerate+.3*O.framerate,value:j.Vector3.One()}),e.setKeys(n),a.mesh.animations.push(e),O.scene.beginAnimation(a.mesh,0,t*O.framerate+.3*O.framerate,!1)},a.render=function(){return Object(r.jsx)("div",{})},a.mesh=void 0,a}return n}(o.Component),w=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){a.createMesh(),a.applyMaterial(),a.startSpawnAnimation()},a.componentWillUnmount=function(){a.mesh.dispose()},a.createMesh=function(){var e=a.props.posX?a.props.posX:0,t=a.props.posY?a.props.posY:0,n=a.props.posZ?a.props.posZ:0;a.mesh=j.MeshBuilder.CreateBox("grassBlock_".concat(e,",").concat(t,",").concat(n),{height:1,width:1,depth:1},O.scene),a.mesh.position.x=e,a.mesh.position.y=t,a.mesh.position.z=n},a.applyMaterial=function(){var e=new j.StandardMaterial("GrassBlockMaterial",O.scene);e.reflectionTexture=new j.CubeTexture("assets/textures/grass/grass",O.scene),e.reflectionTexture.coordinatesMode=j.Texture.SKYBOX_MODE,e.reflectionTexture.updateSamplingMode(j.Texture.NEAREST_NEAREST_MIPLINEAR),e.diffuseColor=new j.Color3(0,0,0),e.specularColor=new j.Color3(0,0,0),e.backFaceCulling=!1,a.mesh.material=e},a.startSpawnAnimation=function(){var e=new j.Animation("spawnAnimation","scaling",O.framerate,j.Animation.ANIMATIONTYPE_VECTOR3,j.Animation.ANIMATIONLOOPMODE_CYCLE),t=.2*((a.props.yOffset?a.props.yOffset:0)+(a.props.posY?a.props.posY:0))+1,n=[];n.push({frame:0,value:j.Vector3.Zero()}),n.push({frame:t*O.framerate,value:j.Vector3.Zero()}),n.push({frame:t*O.framerate+.3*O.framerate,value:j.Vector3.One()}),e.setKeys(n),a.mesh.animations.push(e),O.scene.beginAnimation(a.mesh,0,t*O.framerate+.3*O.framerate,!1)},a.render=function(){return Object(r.jsx)("div",{})},a.mesh=void 0,a}return n}(o.Component),A=n(14),C=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){a.createMesh()},a.componentWillUnmount=function(){O.character=void 0,a.mesh.dispose(),a.idleAnimation=a.walkingAnimation=null},a.createMesh=function(){var e=a.props.posX?a.props.posX:0,t=a.props.posY?a.props.posY:0,n=a.props.posZ?a.props.posZ:0;a.mesh=j.MeshBuilder.CreateBox("character",{height:1,width:1,depth:1},O.scene);var i=new j.Material("characterParentMaterial");i.alpha=0,a.mesh.position=new j.Vector3(e,t,n),a.mesh.material=i,a.characterModel=j.SceneLoader.ImportMesh("","assets/obj/","character_running.glb",O.scene,(function(i,r,o,s){a.characterModelMeshes=i,a.idleAnimation=s[0],a.walkingAnimation=s[1],i.forEach((function(i){i.scaling=new j.Vector3(.1,.1,.1),i.position=new j.Vector3(e+a.xOffset,t+a.yOffset,n+a.zOffset);var r=new j.StandardMaterial("characterMaterial");r.specularColor=new j.Color3(1,1,1),r.diffuseColor=new j.Color3(1,.6,0),r.backFaceCulling=!1,r.ambientColor=new j.Color3(.23,.98,.53),i.material=r,i.setParent(a.mesh)}))}))},a.walk=function(){var e=a.characterFaceDirection%2===0?"z":"x",t=a.characterFaceDirection>=2?1:-1,n=new j.Animation("characterTurnleft","position.".concat(e),O.framerate,j.Animation.ANIMATIONTYPE_FLOAT,j.Animation.ANIMATIONLOOPMODE_CYCLE),i=[];i.push({frame:0,value:"x"===e?a.mesh.position.x:a.mesh.position.z}),i.push({frame:a.animationSpeed*O.framerate,value:("x"===e?a.mesh.position.x:a.mesh.position.z)+t}),n.setKeys(i),a.mesh.animations.length>0&&a.mesh.animations.pop(),a.mesh.animations.push(n),O.scene.beginAnimation(a.mesh,0,a.animationSpeed*O.framerate,!1),a.idleAnimation.stop(),a.walkingAnimation.start(!1,2,a.walkingAnimation.from,a.walkingAnimation.to,!1),setTimeout((function(){a.walkingAnimation.stop(),a.idleAnimation.start(!0,1,a.idleAnimation.from,a.idleAnimation.to,!1)}),1e3*a.animationSpeed)},a.turnLeft=function(){0===a.characterFaceDirection?a.characterFaceDirection=3:a.characterFaceDirection=Math.abs((a.characterFaceDirection-1)%4),console.log("Rotating player to ".concat(a.characterFaceDirection));var e=new j.Animation("characterTurnleft","rotation.y",O.framerate,j.Animation.ANIMATIONTYPE_FLOAT,j.Animation.ANIMATIONLOOPMODE_CYCLE),t=[];t.push({frame:0,value:a.mesh.rotation.y}),t.push({frame:a.animationSpeed*O.framerate,value:a.mesh.rotation.y-Math.PI/2}),e.setKeys(t),a.mesh.animations.length>0&&a.mesh.animations.pop(),a.mesh.animations.push(e),O.scene.beginAnimation(a.mesh,0,a.animationSpeed*O.framerate,!1)},a.turnRight=function(){a.characterFaceDirection=Math.abs((a.characterFaceDirection+1)%4),console.log("Rotating player to ".concat(a.characterFaceDirection));var e=new j.Animation("characterTurnleft","rotation.y",O.framerate,j.Animation.ANIMATIONTYPE_FLOAT,j.Animation.ANIMATIONLOOPMODE_CYCLE),t=[];t.push({frame:0,value:a.mesh.rotation.y}),t.push({frame:a.animationSpeed*O.framerate,value:a.mesh.rotation.y+Math.PI/2}),e.setKeys(t),a.mesh.animations.length>0&&a.mesh.animations.pop(),a.mesh.animations.push(e),O.scene.beginAnimation(a.mesh,0,a.animationSpeed*O.framerate,!1)},a.render=function(){return Object(r.jsxs)("div",{children:[Object(r.jsx)("button",{onClick:a.walk,children:"PRESS ME DADDY"}),Object(r.jsx)("button",{onClick:a.turnLeft,children:"Turn Left"}),Object(r.jsx)("button",{onClick:a.turnRight,children:"Turn Right"})]})},a.mesh=void 0,a.characterModel=void 0,a.characterModelMeshes=void 0,a.characterFaceDirection=0,a.xOffset=0,a.yOffset=-.5,a.zOffset=0,a.animationSpeed=.5,a.turnLeftAnimation=void 0,a.idleAnimation=void 0,a.walkingAnimation=void 0,O.character=Object(A.a)(a),a}return n}(o.Component),M=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(r.jsx)("button",{className:"btnAddBlock",onClick:this.props.onClick,children:"+"})}}]),n}(o.Component),y=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){},a.startSimulation=function(){},a.addBlock=function(e){},a.render=function(){return Object(r.jsxs)("div",{className:"codeEngine",children:[Object(r.jsx)("div",{className:"block function",children:"function"}),Object(r.jsxs)("div",{className:"block if",children:["if",Object(r.jsx)(M,{})]}),Object(r.jsxs)("div",{className:"block loop",children:["loop",Object(r.jsx)("div",{className:"block function",children:"function"}),Object(r.jsx)(M,{})]}),Object(r.jsxs)("div",{className:"block if",children:["if",Object(r.jsxs)("div",{className:"block loop",children:["loop",Object(r.jsx)("div",{className:"block function",children:"function"}),Object(r.jsx)(M,{})]}),Object(r.jsx)(M,{})]}),Object(r.jsx)(M,{})]})},a.state={functions:[],isRunning:!1},a.CODE_BLOCK_TYPE=Object.freeze({WALK:0,TURN:1,IF:2,LOOP:3}),a}return n}(o.Component),T=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(r.jsxs)("div",{className:"titlePanel",children:[Object(r.jsx)("h1",{children:this.props.heading}),Object(r.jsx)("p",{children:this.props.subheading})]})}}]),n}(o.Component),N=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).render=function(){return Object(r.jsxs)("div",{className:"instructionsPanel",children:[Object(r.jsx)("div",{className:"instructionsHeading",children:"Instructions"}),Object(r.jsx)("p",{children:e.props.children})]})},e}return n}(o.Component),k=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={environmentSpawned:!1},a.level=[[[0,0,1,0,0],[0,1,1,1,0],[1,1,1,1,1],[0,1,1,1,0],[0,0,1,0,0]],[[0,1,1,1,0],[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1],[0,1,1,1,0]],[[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1]],[[2,2,2,2,2],[2,2,2,2,2],[2,2,2,2,2],[2,2,2,2,2],[2,2,2,2,2]]],a.yOffset=3,a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){}},{key:"spawnEnvironmentItem",value:function(e,t,n,a){switch(t-=this.yOffset,a){case x.NONE:return Object(r.jsx)("div",{});case x.STONE:return Object(r.jsx)(g,{posX:e,posY:t,posZ:n,yOffset:this.yOffset});case x.GRASS:return Object(r.jsx)(w,{posX:e,posY:t,posZ:n,yOffset:this.yOffset});default:return Object(r.jsx)("div",{})}}},{key:"render",value:function(){var e=this;return Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:"levelPanel",children:[Object(r.jsx)(T,{heading:"Level One",subheading:"The Basics"}),Object(r.jsx)(y,{}),Object(r.jsxs)(N,{children:[Object(r.jsx)("b",{children:"Welcome to your first level!"}),Object(r.jsx)("br",{}),"To complete this level, you need to walk the character to the finish line using functions. To add a function, press the plus button above."]})]}),this.level.map((function(t,n){return Object(r.jsxs)("div",{className:"env_y_".concat(n),children:[" ",t.map((function(t,a){return Object(r.jsxs)("div",{className:"env_x_".concat(a),children:[" ",t.map((function(t,i){return Object(r.jsxs)("div",{className:"env_z_".concat(i),children:[" ",e.spawnEnvironmentItem(a,n,i,t)," "]},i)}))," "]},a)}))," "]},n)})),Object(r.jsx)(C,{posX:0,posY:1,posZ:0})]})}}]),n}(o.Component),E=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={},e}return Object(h.a)(n,[{key:"render",value:function(){return Object(r.jsx)(d.a,{children:Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(v,{}),Object(r.jsxs)("ul",{style:{color:"white"},children:[Object(r.jsx)("li",{children:"Show Debugger: ["}),Object(r.jsx)("li",{children:"Hide Debugger: ]"}),Object(r.jsx)("li",{children:Object(r.jsx)(d.b,{to:"/cg-final-project/",children:"Load Main Menu"})}),Object(r.jsx)("li",{children:Object(r.jsx)(d.b,{to:"/cg-final-project/level-1",children:"Load Level 1"})})]}),Object(r.jsxs)("div",{className:"AppContainer",children:[Object(r.jsx)(b,{}),Object(r.jsx)(f.c,{className:"LevelContainer",children:Object(r.jsx)(f.a,{path:"/cg-final-project/level-1",children:Object(r.jsx)(k,{})})})]})]})})}}]),n}(o.Component),S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,39)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),i(e),r(e),o(e)}))};l.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(E,{})}),document.getElementById("root")),S()}},[[38,1,2]]]);
//# sourceMappingURL=main.b9b20e36.chunk.js.map